import{f as b,a as c,t as y,s as S}from"../chunks/DyHV4W86.js";import{z as ae,I as L,d as te,f as E,B as se,F as t,C as d,h as O,c as f,H as W,J as P,G as n,K as re}from"../chunks/Cb24VUMr.js";import{s as oe,a as le,i as M}from"../chunks/CgxTIbXL.js";import{u as A}from"../chunks/CUVr-AFG.js";import{C as q,a as D}from"../chunks/DWPSFpQg.js";import{I as F,B as h}from"../chunks/iUAiJEE6.js";import{B as de}from"../chunks/4Dol9MRl.js";import{t as w}from"../chunks/BkUBqCuJ.js";import{i as ne}from"../chunks/lxtmH8GZ.js";const ie=async({fetch:C})=>{try{const r=await C("/api/addresses");if(!r.ok)throw new Error("Failed to fetch addresses");return{addresses:await r.json()}}catch(r){return console.error("Error fetching addresses:",r),{addresses:{},error:"Could not connect to the backend."}}},ye=Object.freeze(Object.defineProperty({__proto__:null,load:ie},Symbol.toStringTag,{value:"Module"}));var ce=b('<h2 class="text-xl font-semibold mb-4">Profile</h2> <div class="space-y-4"><div><label for="nickname" class="text-sm text-muted-foreground mb-2 block">Nickname</label> <div class="flex gap-2"><!> <!></div></div> <div><label class="text-sm text-muted-foreground mb-2 block">Current Role</label> <p class="text-lg font-semibold capitalize"> </p></div> <!></div>',1),ve=b('<div class="flex gap-2"><!> <!></div>'),ue=b('<div class="flex gap-2"><!> <!></div>'),fe=b('<h2 class="text-xl font-semibold mb-4">Wallet Addresses</h2> <div class="space-y-4"><div><label for="wardenWallet" class="text-sm text-muted-foreground mb-2 block">Warden Wallet</label> <!></div> <div><label for="seekerWallet" class="text-sm text-muted-foreground mb-2 block">Seeker Wallet</label> <!></div></div>',1),me=b('<div class="min-h-screen p-6 pb-24"><div class="max-w-4xl mx-auto space-y-6"><h1 class="text-3xl font-bold">Settings</h1> <!> <!></div></div> <!>',1);function Se(C,r){ae(r,!0);const x=()=>oe(A,"$userStore",Q),[Q,U]=le();let N=L(te(x().nickname)),m=L(!1);function V(){A.update(s=>({...s,nickname:f(N)})),w.show("Nickname updated successfully","success")}function X(){A.update(s=>{const o=s.role==="warden"?"seeker":"warden";return w.show(`Switched role to ${o}`,"success"),{...s,role:o}})}function I(s,o){navigator.clipboard.writeText(s),w.show(`${o} copied to clipboard`,"success")}async function R(s){O(m,!0);try{const o=await fetch("/api/create-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:s})});if(!o.ok){const v=await o.text();throw new Error(v||"Failed to create profile")}const p=await o.json();w.show(`Successfully created ${s} profile!`,"success"),await ne()}catch(o){w.show(`Error: ${o.message}`,"error")}finally{O(m,!1)}}var J=me(),T=E(J),H=d(T),K=t(d(H),2);q(K,{class:"p-6",children:(s,o)=>{var p=ce(),v=t(E(p),2),u=d(v),g=t(d(u),2),k=d(g);F(k,{class:"flex-1",id:"nickname",get value(){return f(N)},set value(a){O(N,a,!0)}});var j=t(k,2);h(j,{onclick:V,children:(a,e)=>{P();var i=y("Save");c(a,i)},$$slots:{default:!0}}),n(g),n(u);var _=t(u,2),$=t(d(_),2),z=d($,!0);n($),n(_);var B=t(_,2);{let a=re(()=>!x().role);h(B,{onclick:X,class:"w-full",variant:"outline",get disabled(){return f(a)},children:(e,i)=>{P();var l=y();W(()=>S(l,`Switch to ${x().role==="warden"?"Seeker":"Warden"}`)),c(e,l)},$$slots:{default:!0}})}n(v),W(()=>S(z,x().role||"N/A")),c(s,p)},$$slots:{default:!0}});var Y=t(K,2);q(Y,{class:"p-6",children:(s,o)=>{var p=fe(),v=t(E(p),2),u=d(v),g=t(d(u),2);{var k=a=>{var e=ve(),i=d(e);F(i,{get value(){return r.data.addresses.warden},readonly:!0,class:"flex-1 font-mono text-sm",id:"wardenWallet"});var l=t(i,2);h(l,{variant:"outline",size:"icon",onclick:()=>I(r.data.addresses.warden,"Warden wallet"),children:(G,ee)=>{D(G,{class:"w-4 h-4"})},$$slots:{default:!0}}),n(e),c(a,e)},j=a=>{h(a,{onclick:()=>R("warden"),get disabled(){return f(m)},class:"w-full",children:(e,i)=>{P();var l=y();W(()=>S(l,f(m)?"Generating...":"Generate Warden Wallet")),c(e,l)},$$slots:{default:!0}})};M(g,a=>{var e;(e=r.data.addresses)!=null&&e.warden?a(k):a(j,!1)})}n(u);var _=t(u,2),$=t(d(_),2);{var z=a=>{var e=ue(),i=d(e);F(i,{get value(){return r.data.addresses.seeker},readonly:!0,class:"flex-1 font-mono text-sm",id:"seekerWallet"});var l=t(i,2);h(l,{variant:"outline",size:"icon",onclick:()=>I(r.data.addresses.seeker,"Seeker wallet"),children:(G,ee)=>{D(G,{class:"w-4 h-4"})},$$slots:{default:!0}}),n(e),c(a,e)},B=a=>{h(a,{onclick:()=>R("seeker"),get disabled(){return f(m)},class:"w-full",children:(e,i)=>{P();var l=y();W(()=>S(l,f(m)?"Generating...":"Generate Seeker Wallet")),c(e,l)},$$slots:{default:!0}})};M($,a=>{var e;(e=r.data.addresses)!=null&&e.seeker?a(z):a(B,!1)})}n(_),n(v),c(s,p)},$$slots:{default:!0}}),n(H),n(T);var Z=t(T,2);de(Z,{active:"settings"}),c(C,J),se(),U()}export{Se as component,ye as universal};
