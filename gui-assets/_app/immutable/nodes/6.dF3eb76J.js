import{f as b,a as n,t as j,s as z}from"../chunks/BOaHAOf9.js";import{z as ee,I as M,d as ae,f as B,B as te,F as t,C as r,h as G,c as p,H as E,J as O,G as o}from"../chunks/CYtTFtD_.js";import{s as se,a as re,i as R}from"../chunks/BE3f0_xd.js";import{u as q}from"../chunks/DFyFtZMB.js";import{C as D,a as K}from"../chunks/NeeKWLe5.js";import{I as A,B as h}from"../chunks/Gph-JeDs.js";import{B as oe}from"../chunks/DqVY36XP.js";import{t as $}from"../chunks/BPiwNEpW.js";import{i as le}from"../chunks/Ca1nNKxN.js";const de=async({fetch:y})=>{try{const s=await y("http://localhost:8088/api/addresses");if(!s.ok)throw new Error("Failed to fetch addresses");return{addresses:await s.json()}}catch(s){return console.error("Error fetching addresses:",s),{addresses:{},error:"Could not connect to the backend."}}},we=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));var ie=b('<h2 class="text-xl font-semibold mb-4">Profile</h2> <div class="space-y-4"><div><label for="nickname" class="text-sm text-muted-foreground mb-2 block">Nickname</label> <div class="flex gap-2"><!> <!></div></div> <div><label class="text-sm text-muted-foreground mb-2 block">Current Role</label> <p class="text-lg font-semibold capitalize"> </p></div></div>',1),ne=b('<div class="flex gap-2"><!> <!></div>'),ce=b('<div class="flex gap-2"><!> <!></div>'),ve=b('<h2 class="text-xl font-semibold mb-4">Wallet Addresses</h2> <div class="space-y-4"><div><label for="wardenWallet" class="text-sm text-muted-foreground mb-2 block">Warden Wallet</label> <!></div> <div><label for="seekerWallet" class="text-sm text-muted-foreground mb-2 block">Seeker Wallet</label> <!></div></div>',1),fe=b('<div class="min-h-screen p-6 pb-24"><div class="max-w-4xl mx-auto space-y-6"><h1 class="text-3xl font-bold">Settings</h1> <!> <!></div></div> <!>',1);function $e(y,s){ee(s,!0);const S=()=>se(q,"$userStore",Q),[Q,U]=re();let W=M(ae(S().nickname)),u=M(!1);function V(){q.update(l=>({...l,nickname:p(W)})),$.show("Nickname updated successfully","success")}function F(l,d){navigator.clipboard.writeText(l),$.show(`${d} copied to clipboard`,"success")}async function I(l){G(u,!0);try{const d=await fetch("/api/create-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:l})});if(!d.ok){const c=await d.text();throw new Error(c||"Failed to create profile")}const m=await d.json();$.show(`Successfully created ${l} profile!`,"success"),await le()}catch(d){$.show(`Error: ${d.message}`,"error")}finally{G(u,!1)}}var J=fe(),P=B(J),H=r(P),L=t(r(H),2);D(L,{class:"p-6",children:(l,d)=>{var m=ie(),c=t(B(m),2),v=r(c),g=t(r(v),2),k=r(g);A(k,{class:"flex-1",id:"nickname",get value(){return p(W)},set value(x){G(W,x,!0)}});var C=t(k,2);h(C,{onclick:V,children:(x,a)=>{O();var e=j("Save");n(x,e)},$$slots:{default:!0}}),o(g),o(v);var _=t(v,2),w=t(r(_),2),N=r(w,!0);o(w),o(_),o(c),E(()=>z(N,S().role||"N/A")),n(l,m)},$$slots:{default:!0}});var X=t(L,2);D(X,{class:"p-6",children:(l,d)=>{var m=ve(),c=t(B(m),2),v=r(c),g=t(r(v),2);{var k=a=>{var e=ne(),f=r(e);A(f,{get value(){return s.data.addresses.warden},readonly:!0,class:"flex-1 font-mono text-sm",id:"wardenWallet"});var i=t(f,2);h(i,{variant:"outline",size:"icon",onclick:()=>F(s.data.addresses.warden,"Warden wallet"),children:(T,Z)=>{K(T,{class:"w-4 h-4"})},$$slots:{default:!0}}),o(e),n(a,e)},C=a=>{h(a,{onclick:()=>I("warden"),get disabled(){return p(u)},class:"w-full",children:(e,f)=>{O();var i=j();E(()=>z(i,p(u)?"Generating...":"Generate Warden Wallet")),n(e,i)},$$slots:{default:!0}})};R(g,a=>{var e;(e=s.data.addresses)!=null&&e.warden?a(k):a(C,!1)})}o(v);var _=t(v,2),w=t(r(_),2);{var N=a=>{var e=ce(),f=r(e);A(f,{get value(){return s.data.addresses.seeker},readonly:!0,class:"flex-1 font-mono text-sm",id:"seekerWallet"});var i=t(f,2);h(i,{variant:"outline",size:"icon",onclick:()=>F(s.data.addresses.seeker,"Seeker wallet"),children:(T,Z)=>{K(T,{class:"w-4 h-4"})},$$slots:{default:!0}}),o(e),n(a,e)},x=a=>{h(a,{onclick:()=>I("seeker"),get disabled(){return p(u)},class:"w-full",children:(e,f)=>{O();var i=j();E(()=>z(i,p(u)?"Generating...":"Generate Seeker Wallet")),n(e,i)},$$slots:{default:!0}})};R(w,a=>{var e;(e=s.data.addresses)!=null&&e.seeker?a(N):a(x,!1)})}o(_),o(c),n(l,m)},$$slots:{default:!0}}),o(H),o(P);var Y=t(P,2);oe(Y,{active:"settings"}),n(y,J),te(),U()}export{$e as component,we as universal};
